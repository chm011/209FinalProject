<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diabetes Health Indicators </title>
    <script src="https://d3js.org/d3.v7.min.js"></script>

    <link rel="preconnect" href="https://rsms.me/">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <link rel='stylesheet' href='style.css'> 
    <script src="script.js" defer></script>

</head>



<body>
    <h1>Diabetes Health Indicators (2014)</h1>
        <p style="font-size: 14px;padding: 0px 20px;">
        Diabetes is a chronic disease that impact many people world wide. Being diagnosed with diabetes means you have hyperglycemia or high blood sugar. Typically diagnosis is made when someone's Hb1Ac is above 6.5% or  blood sugar is higher than 200mg/dL in more than 1 reading. There are greater than 133 million Americans with diabetes or prediabetes, which makes it more crucial to understand the important facors that could increase our risks of getting it. I believe that the following visualizations will bring us closer to understanding the factors that are related to it, and hence the following was done to help demonstrate those points. 
        <br></br>
        Information Source: <a href= "https://www.niddk.nih.gov/health-information/diabetes/overview/what-is-diabetes"> https://www.niddk.nih.gov/health-information/diabetes/overview/what-is-diabetes</a>
        <br></br>
        Data Soruce: <a href = "https://www.kaggle.com/datasets/alexteboul/diabetes-health-indicators-dataset/data?select=diabetes_012_health_indicators_BRFSS2015.csv">https://www.kaggle.com/datasets/alexteboul/diabetes-health-indicators-dataset/data?select=diabetes_012_health_indicators_BRFSS2015.csv </a>
    </p>
    <br></br>
    <h2>Diabetes Prevalence by General Demographic</h2>
    <div style = "padding: 10px;">
        <label for="demographic">Select Demographic:</label>
        <select id="demographic">
            <option value="Education">Education</option>
            <option value="Income">Income</option>
            <option value="Age">Age</option>
            <option value="Sex">Sex</option>
        </select>
    </div>
    <svg width="800" height="500"></svg>
    <div class="tooltip" style="opacity: 0;"></div>
<br></br>
<br></br>


<!--TBD to be in project or not
<h2>Diabetes Prevalence by Health </h2>
<div>
    <label for="demographic">Select Demographic:</label>
    <select id="demographic">
        <option value="Education">Education</option>
        <option value="Income">Income</option>
        <option value="Age">Age</option>
        <option value="Sex">Sex</option>
    </select>
</div>
<svg width="800" height="500"></svg>
<div class="tooltip" style="opacity: 0;"></div>
<script src="script.js"></script>
-->


<br></br>




<!--Diabetes Risk Calculator-->  
<h2>Diabetes Risk Calculator</h2>
<p style="font-size: 14px;padding: 0px 20px;">
    This calculator was made based on a kaggle set. It is meant to give an idea based on the data, and its prevalence rate and risk calculated are not meant to be extrapolated, but only to understand the risk further. 

</p>
</div>

<!-- Dropdown and Sliders -->
<div class="slider-container">
    <label for="sex-dropdown">Sex:</label>
    <select id="sex-dropdown">
        <option value="0">Female</option>
        <option value="1">Male</option>
    </select>
</div>
<div class="slider-container">
    <label for="age-slider">Age: <span id="age-value">30</span></label>
    <input type="range" id="age-slider" min="18" max="120" value="30">
</div>
<div class="slider-container">
    <label for="bmi-slider">BMI: <span id="bmi-value">25.0</span></label>
    <input type="range" id="bmi-slider" min="10" max="50" value="25.0" step="0.1">
</div>
<div class="slider-container">
    <label for="high-bp-dropdown">High Blood Pressure:</label>
    <select id="high-bp-dropdown">
        <option value="0">No</option>
        <option value="1">Yes</option>
    </select>
</div>
<div class="slider-container">
    <label for="high-chol-dropdown">High Cholesterol:</label>
    <select id="high-chol-dropdown">
        <option value="0">No</option>
        <option value="1">Yes</option>
    </select>
</div>
<div class="slider-container">
    <label for="smoker-dropdown">Smoker:</label>
    <select id="smoker-dropdown">
        <option value="0">No</option>
        <option value="1">Yes</option>
    </select>
</div>
<div class="slider-container">
    <label for="heart-disease-dropdown">Heart Disease or Attack:</label>
    <select id="heart-disease-dropdown">
        <option value="0">No</option>
        <option value="1">Yes</option>
    </select>
</div>
<div class="slider-container">
    <label for="phys-activity-dropdown">Physical Activity:</label>
    <select id="phys-activity-dropdown">
        <option value="0">No</option>
        <option value="1">Yes</option>
    </select>
</div>
<div class="slider-container">
    <label for="gen-health-slider">General Health (1 is the best): <span id="gen-health-value">3</span></label>
    <input type="range" id="gen-health-slider" min="1" max="5" value="3">
</div>
<div class="slider-container">
    <label for="ment-health-slider">Mental Health (Days in Poor Health): <span id="ment-health-value">0</span></label>
    <input type="range" id="ment-health-slider" min="0" max="30" value="0">
</div>
<div class="slider-container">
    <label for="phys-health-slider">Physical Health (Days in Poor Health): <span id="phys-health-value">0</span></label>
    <input type="range" id="phys-health-slider" min="0" max="30" value="0">
</div>
<div class="slider-container">
    <label for="diff-walk-dropdown">Difficulty Walking:</label>
    <select id="diff-walk-dropdown">
        <option value="0">No</option>
        <option value="1">Yes</option>
    </select>
</div>
<div class="slider-container">
    <label for="fruits-dropdown">Consumes Fruits Daily:</label>
    <select id="fruits-dropdown">
        <option value="0">No</option>
        <option value="1">Yes</option>
    </select>
</div>
<div>
<!-- Risk Result -->

<div id="risk-output">
    <div id="risk-result"></div>
    <div id="risk-score"></div>
    <br></br>
    <button id="toggle-breakdown-btn">Expand to See More</button>
    <div id="breakdown-container" style="display: none;">
        <h4>Breakdown by Factor:</h4>
        <ul id="breakdown-list" style="font-size: 13px;"></ul>
    </div>
</div>
<br></br>
<br></br>
<h3>Write Up for Prototype:</h3>
<p style="font-size: 14px;padding: 20px;">
    I chose this diabaetes dataset from the UCI respository which sourced from a kaggle dataset. I am interested in what these data will show, and how accurate the anayltic results are when compared to the real word.
    <br></br>
    In the prototype, two visualizations are done so far. 
    <br></br>
    The first one showing the diabetes prevalence rate among the dataset, which were based off of 70,692 survey responses. This was done to give an overall idea to what the demographics looks like in terms of age, sex, income, and education, and also to see the distrubution of just the demographics itself. I chose to just include age and sex for a general idea, and included income and education, because I thought it would be an interesting data to look at, even though it isn't generally seen as an heavily impacting factor in the clinical world, especially since comparing to lifestyle factors ad physical health factors.  There is a filter that audience can select to choose which demograhpic they wish to see, and when hovering over bars, it will show the exact counts of people with or without diabetes in each subgroup and how many people are in each subgroup.   
    <br></br>
    The difficulty of this mainly due to the bar heights, whenever I am trying adjust the colors to reflect having diabetes or not, the bar heights keep jumping to 100% to account for the diabetes percentage to be 100%, instead of the subgroup population I was tryign to show. 
    <br></br>
    The second one is a diabetes risk calculator. I processed the data to find prevalence rate of each categories and subgroups, and turned it into a scoring system. Each prevalence rate for each factor is turned into a risk score using a predefined threshhold. Then, I further processed the data to find correlation coefficients help me weigh which factors are more influencing. That integrated that into the calculator to weighted risk scores through  multiplying the weight by the risk score. The weighted scores are then summed, averaged, and converted into the percentage to show the overall risk for diabetes. I believe machine learning would have been a better approach to calculate scores, as the scores right now are still false high, and doesn't reflect nor can be used in real-wrod. But due to the limited time factor,  to write an API and integrate it into the graph will be far too complex. 
    <br></br>
    For this calculator, importing the json file and adjusting to make it work took a tremendous time as it was my first time implementing. The data won't load or the calculator wouldn't work dynamically. It took a lot of tries for it to finally work. And to design and figure out the a simple system that would work for the calculator was also challenging.
    </p>
<div>

</div>
</body>
</html>
